import React, {useState, useEffect, useRef } from 'react'
import { gsap } from "gsap";

const AlgarveWireSVG = (props) => {
    const svg = useRef(null);
    const circleSVG = useRef(null);

    useEffect(() => {
        let path = svg.current
        let circle = circleSVG.current
        console.log(circle.style)

        if(path){
            let pathLength = path.getTotalLength()
            path.style.strokeDasharray = pathLength + ' ' + pathLength;
            path.style.strokeDashoffset = pathLength
            gsap.to(path, {
                scrollTrigger:{
                    trigger: svg.current,
                    start: "top 60%",
                    end: "bottom 60%", 
                    scrub: 0, 
                },
                strokeDashoffset: 0,
                once: true,
            });
            gsap.to(circle, {
                scrollTrigger:{
                    trigger: svg.current,
                    start: "top 10%",
                    end: "bottom 80%", 
                    scrub: 0, 
                },
                attr: {r: "30"},
                once: true, 
            })
        }
    }, []);
    

    return (
        <svg className="section-wire" xmlns="http://www.w3.org/2000/svg" width="202.3646697998047" height="805.5907592773438" viewBox="538.8176670263892 -2.7953537977880556 202.3646697998047 805.5907592773438" preserveAspectRatio="none">
        <g>
            <defs>
            <path ref={svg}id="s-Path_1-47a0f" d="M638.9575618071972 -1.795346225377898 L638.9575618071972 200.68631004336942 L638.9575618071972 386.75649938039385 C638.9575618071972 386.75649938039385 634.6517919265553 381.78105267531885 632.3559006733703 381.78105267531885 C630.0600094201852 381.78105267531885 627.5126302480135 380.8244313198245 628.4036712919018 379.2938371510346 C629.2947123357902 377.76324298224495 631.721764212186 375.2760274579608 628.4036712919018 374.8933789157636 C625.0855783716175 374.5107303735658 624.656164220066 373.1714604758745 619.8007781117248 374.8933789157636 C614.9453920033835 376.61529735565216 613.2234735634946 374.5107303735657 612.0755279369022 377.76324298224495 C610.9275823103096 381.01575559092373 612.2668522080008 382.9289983019112 609.2056638704208 382.9289983019112 C606.1444755328407 382.9289983019112 604.279183562853 382.9289983019112 602.3419654813655 381.78105267531885 C600.404747399878 380.63310704872606 601.6503899625055 383.50297111520774 599.3056502413029 382.9289983019112 C596.9609105201005 382.35502548861473 593.5170736403228 375.85000027125716 592.560452284829 377.76324298224495 C591.6038309293352 379.6764856932323 591.795155200434 378.9111886088374 589.6905882183477 379.2938371510346 C587.5860212362613 379.6764856932323 586.6362264255491 378.3372157955413 585.3892053910164 380.4417827776274 C584.1421843564838 382.54634975971373 586.4380756096688 384.84224101289897 583.7595358142862 382.9289983019112 C581.0809960189036 381.01575559092373 582.8029144587924 378.7198643377385 579.7417261212123 379.2938371510346 C576.6805377836323 379.86780996433095 573.6193494460522 381.01575559092373 572.2800795483608 379.2938371510346 C570.9408096506696 377.57191871114594 572.4714038194596 375.85000027125716 569.4102154818795 374.8933789157636 C566.3490271442995 373.9367575602697 564.6271087044106 372.78881193367704 563.4791630778182 372.98013620477593 C562.3312174512256 373.1714604758745 563.6704873489168 376.42397308455327 563.0965145356206 377.76324298224495 C562.5225417223244 379.10251287993594 562.5225417223244 379.6764856932324 560.2266504691393 382.9289983019112 C557.9307592159541 386.18151091058996 553.7216252517815 391.72991477245387 553.9129495228804 393.45183321234265 C554.104273793979 395.1737516522318 557.1654621315593 398.8089128031079 556.4001650471641 400.53083124299667 C555.6348679627692 402.25274968288556 557.5481106737566 405.5052622915641 553.9129495228804 408.1838020869469 C550.277788372004 410.86234188232936 548.5558699321151 410.28836906903314 549.1298427454113 412.58426032221837 C549.7038155587077 414.8801515754035 552.7650038962878 415.2628001176013 551.4257339985965 417.7500156418846 C550.0864641009052 420.2372311661685 545.8773301367326 426.35960784132874 544.5380602390412 427.8902020101186 C543.1987903413499 429.420796178909 541.8595204436587 434.0125786852791 541.2855476303623 435.160524311872 C540.7115748170661 436.3084699384642 538.7983321060785 437.07376702285933 540.5202505459674 438.03038837835334 C542.2421689858561 438.98700973384666 544.3467359679425 438.41303692055044 544.5380602390412 440.51760390263667 C544.72938451014 442.6221708847231 540.5202505459674 444.53541359571045 544.5380602390412 443.7701165113158 C548.5558699321151 443.00481942692045 549.1298427454115 442.0481980714269 549.1298427454115 440.51760390263667 C549.1298427454113 438.98700973384666 549.7038155587077 439.36965827604445 551.4257339985966 438.03038837835334 C553.1476524384852 436.69111848066154 552.7650038962878 433.4386058719831 553.9129495228804 435.160524311872 C555.0608951494728 436.88244275176044 555.4435436916706 437.45641556505666 556.4001650471643 436.3084699384642 C557.3567864026579 435.160524311872 560.417974740238 431.3340388898964 563.0965145356206 432.2906602453902 C565.7750543310032 433.2472816008842 569.7928640240771 431.7166874320942 572.2800795483608 430.56874180550153 C574.7672950726446 429.420796178909 574.0019979882497 430.56874180550153 577.6371591391261 430.56874180550153 C581.2723202900024 430.56874180550153 582.0376173743974 431.90801170319287 581.0809960189036 429.420796178909 C580.1243746634099 426.9335806546252 578.4024562235211 425.59431075693374 581.0809960189036 425.40298648583484 C583.7595358142862 425.2116622147363 586.4630762327008 423.1070952326497 588.1724943610736 423.8723923170452 C589.8819124894464 424.63768940143996 593.8997221825203 421.7678253349585 595.8129648935079 423.8723923170452 C597.7262076044955 425.9769592991313 603.038444565457 428.4641748234151 604.113149371402 427.8902020101186 C605.1878541773469 427.31622919682275 610.5449337681121 429.9947689922051 612.0755279369022 429.420796178909 C613.6061221056922 428.84682336561275 615.7106890877785 425.9769592991313 617.6239317987661 426.7422563835265 C619.5371745097536 427.50755346792107 626.0193457255 429.2294719078101 626.126434861855 430.56874180550153 C626.2335239982101 431.90801170319287 630.4426579623828 432.09933597429176 632.3559006733703 430.56874180550153 C634.2691433843579 429.0381476367114 637.9062520970738 429.0381476367114 638.9575618071972 429.420796178909 C640.0088715173206 429.8034447211064 649.3207126839465 429.61212045000775 651.9351144023863 432.2906602453902 C654.549516120826 434.96920004077265 663.5571425877489 440.51760390263667 666.6106380626883 443.7701165113158 C669.6641335376278 447.02262911999446 675.786510212788 448.935871830982 678.847698550368 448.74454755988336 C681.9088868879481 448.5532232887847 683.0568325145407 446.0660077645007 685.161399496627 445.1093864090069 C687.2659664787133 444.1527650535129 694.3449645093673 437.26509129395845 698.7454227446387 435.160524311872 C703.1458809799101 433.0559573297853 709.0769333839716 428.4641748234151 710.0335547394653 426.7422563835265 C710.9901760949591 425.0203379436375 717.4952013123168 420.42855543726705 721.3216867342919 418.7066369973786 C725.148172156267 416.9847185574898 730.3139274759335 414.1148544910085 733.9490886268098 414.8801515754035 C737.5842497776862 415.6454486597984 741.6020594707601 420.0459068950697 739.6888167597725 416.02809720199593 C737.775574048785 412.01028750892203 740.07146530197 408.94909917134214 737.775574048785 406.6532079181569 C735.4796827955998 404.3573166649719 733.3751158135134 403.97466812277446 733.9490886268097 402.06142541178644 C734.5230614401061 400.1481827007992 741.0280866574636 401.1048040562931 737.7755740487848 398.043615718713 C734.5230614401061 394.9824273811329 734.3317371690069 394.7911031100341 733.9490886268096 392.3038875857502 C733.5664400846123 389.8166720614664 732.609818729118 386.37283518168886 733.9490886268096 384.45959247070107 C735.2883585245012 382.54634975971373 737.3929255065867 381.58972840421984 733.9490886268095 379.2938371510346 C730.5052517470323 376.9979458978497 734.1404128979077 376.2326488134546 733.9490886268094 374.8933789157636 C733.7577643557111 373.55410901807215 734.3317371690073 372.4061633914797 731.8445216447235 371.06689349378826 C729.3573061204397 369.72762359609715 731.8445216447233 368.005705156208 731.8445216447234 366.0924624452207 C731.8445216447235 364.179219734233 732.0358459158223 363.7965711920356 729.5486303915385 362.648625565443 C727.0614148672546 361.50067993885034 727.0614148672546 361.50067993885057 727.0614148672546 360.3527343122579 C727.0614148672546 359.2047886856652 725.5308206984645 358.82214014346766 723.4262537163783 359.01346441456667 C721.3216867342919 359.2047886856652 719.5997682944031 361.69200420994935 718.0691741256131 360.3527343122579 C716.538579956823 359.01346441456667 715.0079857880329 364.179219734233 714.8166615169342 362.648625565443 C714.6253372458355 361.118031396653 713.0947430770452 365.13584108972657 710.0335547394652 363.98789546313424 C706.9723664018852 362.8399498365418 704.4851508776014 363.60524692093657 702.5719081666139 363.98789546313424 C700.6586654556263 364.3705440053319 696.6408557625524 365.13584108972657 695.4929101359598 366.0924624452207 C694.3449645093673 367.04908380071447 690.2659982694715 369.3449750538996 686.8527396631049 371.06689349378826 C683.4394810567383 372.78881193367704 682.674183972343 376.42397308455327 678.8476985503679 374.8933789157636 C675.0212131283929 373.3627847469734 675.3752387303282 374.5107303735658 673.1893210828237 376.4239730845535 C671.003403435319 378.3372157955413 670.5433472475991 379.6764856932323 668.3818219527246 379.2938371510346 C666.2202966578502 378.9111886088374 664.6744775873317 377.76324298224495 664.5864279026465 381.78105267531885 C664.4983782179613 385.7988623683925 669.0749358226029 385.41824513920983 664.5864279026465 386.75649938039385 C660.09791998269 388.09475362157775 660.1391402952637 388.47740216377485 657.2486660724954 391.3472662302563 C654.3581918497273 394.2171302967379 656.591034985699 391.5385905013553 651.9351144023861 391.3472662302563 C647.2791938190733 391.15594195915776 645.328737578165 390.7732934169603 642.5731424121934 389.2426992481701 C639.8175472462218 387.7121050793801 638.9746346994335 389.545629491986 638.9746346994335 389.545629491986 L638.9575618071972 449.8032631465019 L638.9575618071972 604.3115812828241 L638.9575618071972 801.7953462253779 "></path>
            </defs>
            <g>
            <use href="#s-Path_1-47a0f" fill="none" stroke-width="3.0" stroke="#000" stroke-linecap="square" filter="none"></use>
            </g>
        </g>
        <g>
        <circle ref={circleSVG} cx="710" cy="425" r="0" stroke="none" stroke-width="3" fill="#f5821e" />
        </g>
        </svg>
    )
}

export default AlgarveWireSVG